
function CoreClass(){}
CoreClass.prototype.construct=function(){};CoreClass.extend=function(def){var classDef=function(){if(arguments[0]!==CoreClass){this.construct.apply(this,arguments);}};var proto=new this(CoreClass);var superClass=this.prototype;for(var n in def){var item=def[n];if(item instanceof Function)item.$=superClass;proto[n]=item;}
classDef.prototype=proto;classDef.extend=this.extend;return classDef;};;
var PageCore=CoreClass.extend({loadURL:null,resolution:null,pageVals:null,init:function(){var _this=this;if(this.loadURL){this.load();}else{this.begin();}},load:function(){var _this=this;var url=Global.path+_this.loadURL;if(Global.appDataTest)url=url+"?test=1";$.ajax({type:"POST",url:url,dataType:"json",success:function(_data){Global.pageData=_data;_this.begin();},error:function(msg,textStatus){alert("It appears there may have been an error loading this page. Please try again.");}});},resize:function(){Global.winWidth=$(window).width();Global.winHeight=$(window).height();var oldResolution=this.resolution;if(Global.winWidth<768){this.resolution="mobile";}else if(Global.winWidth<980){this.resolution="tablet";}else if(Global.winWidth>=980){this.resolution="desktop";}
if(Global.objArr){for(var i=0;i<Global.objArr.length;i++){Global.objArr[i].resize();}}
if(oldResolution!=this.resolution){this.changeResolution();}},changeResolution:function(){if(Global.objArr){for(var i=0;i<Global.objArr.length;i++){Global.objArr[i].changeResolution();}}},begin:function(){var _this=this;$("body").waitForImages({finished:function(){_this.beginAfterLoad();$("#main-loader").hide();},waitForAll:true});},beginAfterLoad:function(){var _this=this;this.buildObjects();this.buildHandlers();$(window).resize(function(){_this.resize();});this.resize();this.start();},buildObjects:function(){},buildHandlers:function(){},start:function(){}});$(document).ready(function(){Global.page.init();});;
var ObjectCore=CoreClass.extend({displayObj:null,init:function(){Global.objArr.push(this);},show:function(){this.displayObj.show();},hide:function(){this.displayObj.hide();},changeResolution:function(){}});;
var Page=PageCore.extend({init:function(){arguments.callee.$.init.call(this);},buildObjects:function(){arguments.callee.$.buildObjects.call(this);},buildHandlers:function(){arguments.callee.$.buildHandlers.call(this);},start:function(){arguments.callee.$.start.call(this);var header=Global.header=new Header();header.init();},resize:function(){arguments.callee.$.resize.call(this);},changeResolution:function(){arguments.callee.$.changeResolution.call(this);}});;
var Header=ObjectCore.extend({init:function(){var _this=this;var _id=Global.id;if(_id=="home"){$(".menu-title").html("Interactive Triptych");}else if(_id=="learn"){$(".menu-title").html("Discover");}else if(_id=="experience"){$(".menu-title").html("Experience");}else if(_id=="participate"){$(".menu-title").html("Create");}
this.transIn();$("#header-menu").click(function(){_this.transOut(Global.id);});},transIn:function(){TweenLite.to($("#site-overlay"),5,{css:{"opacity":0}});$("#header-menu").css("display","block");$("#header-menu").css("margin-top",-130);var time=2000;if(Global.id=="home"){time=5000;}
setTimeout(function(){TweenLite.to($("#header-menu"),2,{css:{"margin-top":0},ease:Quint.easeOut});},time);},transOut:function(_id){TweenLite.to($("#site-overlay"),2,{css:{"opacity":1}});TweenLite.to($("#header-menu"),2,{css:{"margin-top":-130},ease:Quint.easeOut});setTimeout(function(){if(_id=="home"){window.location="experience";}else if(_id=="learn"){window.location="participate";}else if(_id=="experience"){window.location="learn";}else if(_id=="participate"){window.location="home";}},2000);}});;
var Global=CoreClass.extend({page:null,pageName:null,pageData:null,winWidth:0,winHeight:0,objArr:[],host:null,path:null,id:null,test:null,appDataTest:null,header:null});var Global=new Global();if(typeof console=="undefined"){this.console={log:function(){}};};